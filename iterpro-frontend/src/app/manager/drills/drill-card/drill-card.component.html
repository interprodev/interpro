<ng-container *ngIf="!isLoading; else showCardTemplate">
	<div class="card" iterproLazyLoadImages [lazyOptions]="{ rootMargin: '0px 600px', threshold: 0 }" [tag]="'img'">
		<div class="image-container" [class.shine-effect]="!drillImage">
			<img *ngIf="drillImage" [attr.data-lazy]="drillImage" alt="drill thumbnail" />
			<ng-container *ngIf="!drillImage">
				<svg
					class="svgIcon"
					version="1.1"
					xmlns="http://www.w3.org/2000/svg"
					viewBox="0 0 297 297"
					xmlns:xlink="http://www.w3.org/1999/xlink"
					enable-background="new 0 0 297 297"
				>
					<g>
						<path
							d="m16.173,92.554l24.624-24.624 24.623,24.624c1.85,1.849 4.274,2.774 6.699,2.774s4.849-0.925 6.699-2.774c3.7-3.7 3.7-9.699 0-13.399l-24.622-24.623 24.623-24.623c3.7-3.7 3.7-9.699 0-13.399-3.701-3.699-9.698-3.699-13.399,0l-24.623,24.623-24.624-24.624c-3.701-3.699-9.698-3.699-13.399,0-3.7,3.7-3.7,9.699 0,13.399l24.623,24.623-24.622,24.624c-3.7,3.7-3.7,9.699 1.33227e-15,13.399 1.85,1.849 4.274,2.774 6.699,2.774s4.849-0.925 6.699-2.774z"
						/>
						<path
							d="m204.11,204.446c-3.701-3.699-9.698-3.699-13.399,0l-24.623,24.623-24.624-24.623c-3.701-3.699-9.698-3.699-13.399,0-3.7,3.701-3.7,9.699 0,13.399l24.624,24.623-24.624,24.624c-3.7,3.7-3.7,9.699 0,13.399 1.85,1.849 4.274,2.774 6.699,2.774 2.425,0 4.849-0.925 6.699-2.774l24.624-24.624 24.623,24.623c1.85,1.849 4.274,2.774 6.699,2.774 2.425,0 4.849-0.925 6.699-2.774 3.7-3.701 3.7-9.699 0-13.399l-24.623-24.623 24.623-24.623c3.702-3.7 3.702-9.7 0.002-13.399z"
						/>
						<path
							d="m204.848,71.597l-38.207-33.213c-3.949-3.434-9.933-3.013-13.365,0.935-3.433,3.949-3.014,9.932 0.935,13.365l20.262,17.614c-59.804,7.822-95.214,39.074-114.899,65.49-18.186,24.404-26.156,48.415-29.026,59 1.891-0.251 3.815-0.394 5.773-0.394 4.696,0 9.217,0.755 13.459,2.136 3.162-10.426 10.559-30.26 25.443-50.029 24.639-32.726 58.867-51.999 101.926-57.48l-18.88,21.719c-3.433,3.949-3.014,9.932 0.935,13.365 1.794,1.56 4.008,2.324 6.211,2.324 2.648,0 5.281-1.104 7.154-3.259l33.213-38.208c3.434-3.949 3.015-9.932-0.934-13.365z"
						/>
						<path
							d="m36.322,209.998c-15.436,0-27.995,12.558-27.995,27.995 0,15.437 12.558,27.996 27.995,27.996 15.437,0 27.996-12.559 27.996-27.996 0-15.437-12.559-27.995-27.996-27.995z"
						/>
						<path
							d="m269.005,48.91c-15.437,0-27.996,12.558-27.996,27.995 0,15.437 12.558,27.996 27.996,27.996 15.436,0 27.995-12.558 27.995-27.996 0-15.436-12.558-27.995-27.995-27.995z"
						/>
					</g>
				</svg>
			</ng-container>
		</div>
		<div class="card-content">
			<div class="title">{{ item.name }}</div>
			<div class="footer">
				<div class="footer-row">
					<div class="footer-item">
						<i class="fas fa-child-reaching"></i>
						<div>{{ item?.ageGroup ? item.ageGroup : '-' }}</div>
					</div>
					<div class="footer-item">
						<i class="fas fa-users"></i>
						<div>{{ item?.players ? item.players : 0 }}</div>
					</div>
				</div>
				<div class="footer-row">
					<div class="footer-item">
						<i class="fas fa-ruler-combined"></i>
						<div>{{ item.pitchSizeX }}m x {{ item.pitchSizeY }}m</div>
					</div>
					<div class="footer-item">
						<i class="fas fa-clock"></i>
						<div>{{ item?.duration ? item.duration : '-' }} min</div>
					</div>
				</div>
				@if (item.lastUpdateAuthorId) {
					<div class="footer-row tw-flex">
						<div class="footer-item">
							<p class="tw-text-xs">{{ 'drillStats.updatedBy' | translate }}:<span class="tw-ml-2">{{ item?.lastUpdateAuthorId | customerName: customers }}</span></p>
						</div>
						<div class="footer-item">
							<p class="tw-text-xs">{{ 'drillStats.updatedOn' | translate }}:<span class="tw-ml-2">{{ item?.lastUpdateDate && item.lastUpdateDate | date:'short' }}</span></p>
					    </div>
					</div>
				} @else {
				<div class="footer-row tw-flex">
					<div class="footer-item">
						<p class="tw-text-xs">{{ 'createdBy' | translate }}:<span class="tw-ml-2">{{ item?.authorId | customerName: customers }}</span></p>
					</div>
					<div class="footer-item">
						<p class="tw-text-xs">{{ 'createdOn' | translate }}:<span class="tw-ml-2">{{ item?.creationDate && item?.creationDate | date:'short' }}</span></p>
					</div>
				</div>
				}

			</div>
		</div>
	</div>
</ng-container>

<ng-template #showCardTemplate>
	<div class="card">
		<p-skeleton width="100%" height="200px"></p-skeleton>
		<div class="card-content">
			<div class="title"><p-skeleton width="75px"></p-skeleton></div>
			<div class="footer">
				<div class="footer-row">
					<div class="footer-item">
						<i class="fas fa-child-reaching"></i>
						<div><p-skeleton width="18px"></p-skeleton></div>
					</div>
					<div class="footer-item">
						<i class="fas fa-users"></i>
						<div><p-skeleton width="18px"></p-skeleton></div>
					</div>
				</div>
				<div class="footer-row">
					<div class="footer-item">
						<i class="fas fa-ruler-combined"></i>
						<div><p-skeleton width="18px"></p-skeleton></div>
					</div>
					<div class="footer-item">
						<i class="fas fa-clock"></i>
						<div><p-skeleton width="18px"></p-skeleton></div>
					</div>
				</div>
			</div>
		</div>
	</div>
</ng-template>
